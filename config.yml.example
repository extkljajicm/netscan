# config.yml.example - netscan network monitoring configuration
#
# DOCKER DEPLOYMENT:
# When using Docker Compose, environment variables are automatically provided
# by docker-compose.yml. Simply copy this file as-is:
#   cp config.yml.example config.yml
#
# Environment variables provided by docker-compose.yml (defaults):
# - INFLUXDB_TOKEN=netscan-token
# - INFLUXDB_ORG=test-org
# - SNMP_COMMUNITY=public
#
# For production, customize these in the docker-compose.yml 'environment' section.
#
# NATIVE DEPLOYMENT:
# For native/systemd deployment, create a .env file with these variables
# or replace ${VAR_NAME} placeholders with actual values.
# See README_NATIVE.md for details.
#
# DO NOT store actual credentials in this config.yml file!

# =============================================================================
# NETWORK DISCOVERY SETTINGS
# =============================================================================
# Network ranges to scan (CIDR notation) - supports multiple subnets
#
# ⚠️  IMPORTANT: You MUST update these with your actual network ranges!
# The example ranges below are placeholders and likely won't match your network.
# If netscan finds 0 devices, it means these ranges are incorrect.
#
# How to find your network range:
# - Run: ip addr (Linux) or ipconfig (Windows)
# - Look for your IP address (e.g., 192.168.1.100)
# - Use the network portion with /24 (e.g., 192.168.1.0/24)
#
networks:
  - "192.168.0.0/24"   # ⚠️ EXAMPLE - Replace with your actual network!
  - "10.0.0.0/16"      # ⚠️ EXAMPLE - Remove if not using this range
  - "172.16.0.0/12"    # ⚠️ EXAMPLE - Remove if not using this range

# How often to run ICMP discovery to find new devices
icmp_discovery_interval: "5m"

# Daily scheduled SNMP scan time (HH:MM format in 24-hour time)
# Full SNMP scan of all known devices runs once per day at this time
# Leave empty to disable scheduled SNMP scans (only immediate scans on device discovery)
snmp_daily_schedule: "02:00"

# =============================================================================
# SNMP SETTINGS
# =============================================================================
# SNMPv2c community string for device authentication
# Uses environment variable expansion (Docker: docker-compose.yml, Native: .env file)
snmp:
  community: "${SNMP_COMMUNITY}"  # Default: 'public' (set via docker-compose.yml or .env)
  port: 161
  timeout: "5s"
  retries: 1

# =============================================================================
# MONITORING SETTINGS
# =============================================================================
# Ping frequency per monitored device
ping_interval: "2s"

# Timeout for individual ping operations
ping_timeout: "2s"

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Number of concurrent ICMP ping workers (recommended: 2-4x CPU cores)
icmp_workers: 64

# Number of concurrent SNMP polling workers (recommended: 1-2x CPU cores)
snmp_workers: 32

# =============================================================================
# INFLUXDB SETTINGS
# =============================================================================
# Time-series database for metrics storage
# Uses environment variable expansion (Docker: docker-compose.yml, Native: .env file)
influxdb:
  url: "http://localhost:8086"
  token: "${INFLUXDB_TOKEN}"  # Default: 'netscan-token' (set via docker-compose.yml or .env)
  org: "${INFLUXDB_ORG}"      # Default: 'test-org' (set via docker-compose.yml or .env)
  bucket: "netscan"

# =============================================================================
# RESOURCE PROTECTION SETTINGS
# =============================================================================
# Limits to prevent resource exhaustion and DoS attacks
max_concurrent_pingers: 1000  # Maximum number of concurrent ping goroutines
max_devices: 10000            # Maximum number of devices to monitor
min_scan_interval: "1m"       # Minimum interval between discovery scans
memory_limit_mb: 512          # Memory usage limit in MB
